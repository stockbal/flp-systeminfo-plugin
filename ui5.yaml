specVersion: "1.0"
metadata:
    name: logoninfo
type: application
resources:
    configuration:
        propertiesFileSourceEncoding: UTF-8
builder:
    resources:
        excludes:
            - "/test/**"
            - "/localService/**"
            - "**/.eslintrc"
    customTasks:
        - name: ui5-task-transpile
          afterTask: replaceVersion
          configuration:
              debug: false
              excludePatterns:
                  - "lib/"
                  - "css/"
        - name: ui5-task-nwabap-deployer
          afterTask: generateCachebusterInfo
          configuration:
              resources:
                  pattern: "**/*.*"
              ui5:
                  language: EN
                  package: $TMP
                  bspContainer: ZFLPLOGONINFO
                  bspContainerText: Logon Information Plugin for FLP
                  calculateApplicationIndex: true
server:
    customMiddleware:
        - name: ui5-middleware-servestatic
          afterMiddleware: compression
          mountPath: /resources
          configuration:
              rootPath: ${env.SAPUI5_RESOURCES}
        - name: ui5-middleware-servestatic
          afterMiddleware: compression
          mountPath: /test-resources
          configuration:
              rootPath: ${env.SAPUI5_TEST_RESOURCES}
        # proxy to backend service
        - name: ui5-middleware-route-proxy
          afterMiddleware: compression
          configuration:
              /sap/bc:
                  target: PROXY_TARGET
                  auth:
                      user: PROXY_AUTH_USER
                      pass: PROXY_AUTH_PASS
        - name: ui5-middleware-livereload
          afterMiddleware: compression
          configuration:
              debug: true
              ext: "xml,json,properties"
              port: 35729
              path: "webapp"
